<mat-expansion-panel [expanded]="panelOpenState" (opened)="panelOpenState = true">
    <mat-expansion-panel-header>
        <mat-panel-title> 
            <span type="button"
                class="label 
                label-default">
                {{index}} (number)
            </span>
        
        </mat-panel-title>
        <mat-panel-description>
            <span type="button"
                class="label 
                label-primary">
            {{fieldName}}
            </span>
        </mat-panel-description>
        <mat-panel-description>
            {{fieldName}}
        </mat-panel-description>
        </mat-expansion-panel-header>
    <div  >
        <div class="wrapper">
            <mat-icon class="right-float" matTooltip="cancel" (click)="hidePannel()">cancel</mat-icon>
            <mat-icon class="right-float" matTooltip="edit" *ngIf="!formClicked" (click)="showForm()">edit</mat-icon>
            <mat-icon class="right-float" matTooltip="check" *ngIf="formClicked" (click)="hideForm()">check</mat-icon>
            <div *ngIf="!formClicked">
                <div class="title">
                    {{fieldName}}
                </div>
                <form name="dummyForm" #dummyForm>
                        <input class="dummy-form-control">
                </form>
            </div>
            <span *ngIf="(minValue || maxValue) && final" class="red-text">
                *Input should be between {{minValue||''}}  and {{maxValue||''}}
            </span>
            <span class="red-text" *ngIf="final && required">
                *Required
            </span>
        </div>
    </div>
    <div *ngIf="formClicked">
        <form #formDirective
            (ngSubmit)="onSubmit(formDirective)"
            class="flex flex-col 
            overflow-hidden form-padding
            white-background">
            
            <div class="flex">
                <mat-form-field appearance="outline" class="flex-auto" style="width:440px !important">
                    <mat-label> Title </mat-label> 
                    <input matInput id="title"
                         placeholder="{{fieldName}}" 
                         value="{{fieldName}}"
                         >
                 </mat-form-field>
            </div>

            <div class="flex">
                <mat-form-field appearance="outline" class="flex-auto" style="width:440px !important">
                    <mat-label>Attributes</mat-label>
                    <mat-select disabled="">
                      <mat-option value="{{fieldName}}">Option</mat-option>
                    </mat-select>
                </mat-form-field>
            </div>

            <div class="row">
                <mat-form-field appearance="outline" class="flex-auto row-item">
                    <mat-label> Min </mat-label> 
                    <input matInput 
                         placeholder="0"
                         type="number" [(ngModel)]="minValue"
                         [ngModelOptions]="{standalone: true}"
                         >
                 </mat-form-field>

                 <mat-form-field appearance="outline" class="flex-auto row-item">
                    <mat-label> Max </mat-label> 
                    <input matInput type="number" [(ngModel)]="maxValue" [ngModelOptions]="{standalone: true}">
                 </mat-form-field>
            </div>

            <div class="flex">
                <mat-form-field appearance="outline" class="flex-auto" style="width:440px !important">
                    <mat-label> Hint </mat-label> 
                    <input matInput>
                 </mat-form-field>
            </div>

            <div class="flex ">
                <!-- <button mat-raised-button extended color="primary">
                  <mat-icon>upload</mat-icon>
                  Upload Image
                </button> -->
                
                <label class="custom-file-upload" for="img">
                    <i class="fa fa-upload"></i>
                    Upload Image
                </label>
                <input type="file" name="uploadfile"
                     id="img" style="display:none;"/>
            </div>

            <section class="checkbox-section">
                <mat-checkbox class="checkbox-margin" [(ngModel)]="required" [ngModelOptions]="{standalone: true}" *ngIf="!disabled">Answer Required</mat-checkbox>
                <mat-checkbox class="checkbox-margin" [(ngModel)]="disabled" [ngModelOptions]="{standalone: true}" *ngIf="!required">Is Disabled</mat-checkbox>
              </section>

        </form>

        <div class="btn-row">
            <button class="btn-success" (click)="done()"> 
                <i class="fa fa-check"></i> Done 
            </button>

            <button class="btn-dark" (click)="hideForm()"> 
                <i class="fa fa-close"></i> Close 
            </button>
        </div>
    </div>
</mat-expansion-panel>